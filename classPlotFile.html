<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>OpenCurves: PlotFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCurves
   &#160;<span id="projectnumber">0.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classPlotFile.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classPlotFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PlotFile Class Reference<div class="ingroups"><a class="el" href="group__api.html">API Reference Documentation</a> &raquo; <a class="el" href="group__gen.html">Plot Loaders and Generators</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The <code><a class="el" href="classPlotFile.html" title="The PlotFile supports loading of data series from a CSV style text file. ">PlotFile</a></code> supports loading of data series from a CSV style text file.  
 <a href="classPlotFile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="plotfile_8h_source.html">plotfile.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afa54fe4c4d2fd8ac04a12c4a1127c87e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#afa54fe4c4d2fd8ac04a12c4a1127c87e">OptionFlag</a> { <a class="el" href="classPlotFile.html#afa54fe4c4d2fd8ac04a12c4a1127c87ea4e3e8db02866ebc6d7afdb186c6840eb">OptUseLocale</a> = (1 &lt;&lt; 0)
 }<tr class="memdesc:afa54fe4c4d2fd8ac04a12c4a1127c87e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of option flags used to control file loading.  <a href="classPlotFile.html#afa54fe4c4d2fd8ac04a12c4a1127c87e">More...</a><br /></td></tr>
<tr class="separator:afa54fe4c4d2fd8ac04a12c4a1127c87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a83c8048c86e50ebe07884cb70a76d923"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a83c8048c86e50ebe07884cb70a76d923">PlotFile</a> (const QString &amp;fileName, unsigned options=0)</td></tr>
<tr class="memdesc:a83c8048c86e50ebe07884cb70a76d923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a plot file opening <code>fileName</code>.  <a href="#a83c8048c86e50ebe07884cb70a76d923">More...</a><br /></td></tr>
<tr class="separator:a83c8048c86e50ebe07884cb70a76d923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d23e25dbb8021a84a9748cb95ffc31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59d23e25dbb8021a84a9748cb95ffc31"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a59d23e25dbb8021a84a9748cb95ffc31">~PlotFile</a> ()</td></tr>
<tr class="memdesc:a59d23e25dbb8021a84a9748cb95ffc31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a59d23e25dbb8021a84a9748cb95ffc31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa049c5c03dccbf68dd38751e5ff8d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a3aa049c5c03dccbf68dd38751e5ff8d8">isOpen</a> () const </td></tr>
<tr class="memdesc:a3aa049c5c03dccbf68dd38751e5ff8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a file is currently open.  <a href="#a3aa049c5c03dccbf68dd38751e5ff8d8">More...</a><br /></td></tr>
<tr class="separator:a3aa049c5c03dccbf68dd38751e5ff8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a95be7587e3de127d252c46676d264"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a10a95be7587e3de127d252c46676d264">fileSize</a> () const </td></tr>
<tr class="memdesc:a10a95be7587e3de127d252c46676d264"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the overall file size in bytes.  <a href="#a10a95be7587e3de127d252c46676d264">More...</a><br /></td></tr>
<tr class="separator:a10a95be7587e3de127d252c46676d264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69fb7aacd8af4580cb8c78d2719d326"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#af69fb7aacd8af4580cb8c78d2719d326">filePos</a> () const </td></tr>
<tr class="memdesc:af69fb7aacd8af4580cb8c78d2719d326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current buffered byte position in the file.  <a href="#af69fb7aacd8af4580cb8c78d2719d326">More...</a><br /></td></tr>
<tr class="separator:af69fb7aacd8af4580cb8c78d2719d326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a65142002c5b5be4712994ce0edf19"><td class="memItemLeft" align="right" valign="top">qint64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#ab6a65142002c5b5be4712994ce0edf19">streamPos</a> () const </td></tr>
<tr class="memdesc:ab6a65142002c5b5be4712994ce0edf19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current byte position in the stream.  <a href="#ab6a65142002c5b5be4712994ce0edf19">More...</a><br /></td></tr>
<tr class="separator:ab6a65142002c5b5be4712994ce0edf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97a9b40a65cb32c6839de9eaecf7c69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#ad97a9b40a65cb32c6839de9eaecf7c69">streamSeek</a> (qint64 pos)</td></tr>
<tr class="memdesc:ad97a9b40a65cb32c6839de9eaecf7c69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the stream position to <code>pos</code>.  <a href="#ad97a9b40a65cb32c6839de9eaecf7c69">More...</a><br /></td></tr>
<tr class="separator:ad97a9b40a65cb32c6839de9eaecf7c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8adc491cf5df0ff10bf4a333626cf305"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a8adc491cf5df0ff10bf4a333626cf305">readLine</a> ()</td></tr>
<tr class="memdesc:a8adc491cf5df0ff10bf4a333626cf305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the next line from the file, caching it.  <a href="#a8adc491cf5df0ff10bf4a333626cf305">More...</a><br /></td></tr>
<tr class="separator:a8adc491cf5df0ff10bf4a333626cf305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d1e9f2997951cca38567dd4477d7f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#ad0d1e9f2997951cca38567dd4477d7f5">generateHeadings</a> (QStringList &amp;headings)</td></tr>
<tr class="memdesc:ad0d1e9f2997951cca38567dd4477d7f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates headings for the plot file.  <a href="#ad0d1e9f2997951cca38567dd4477d7f5">More...</a><br /></td></tr>
<tr class="separator:ad0d1e9f2997951cca38567dd4477d7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3604834ddb887f49d63f5df71292325d"><td class="memItemLeft" align="right" valign="top">const QString &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a3604834ddb887f49d63f5df71292325d">currentLine</a> () const </td></tr>
<tr class="memdesc:a3604834ddb887f49d63f5df71292325d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last line read from the file (after <code><a class="el" href="classPlotFile.html#a8adc491cf5df0ff10bf4a333626cf305" title="Reads the next line from the file, caching it. ">readLine()</a></code>).  <a href="#a3604834ddb887f49d63f5df71292325d">More...</a><br /></td></tr>
<tr class="separator:a3604834ddb887f49d63f5df71292325d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa750c740c5e40cb10dd0ea5343c156c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#aa750c740c5e40cb10dd0ea5343c156c4">dataLine</a> (std::vector&lt; double &gt; &amp;data)</td></tr>
<tr class="memdesc:aa750c740c5e40cb10dd0ea5343c156c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the currently cached line into double precision data values.  <a href="#aa750c740c5e40cb10dd0ea5343c156c4">More...</a><br /></td></tr>
<tr class="separator:aa750c740c5e40cb10dd0ea5343c156c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a162ed4c58160a7b753d9aa1b6415284c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a162ed4c58160a7b753d9aa1b6415284c">dataLine</a> (QString &amp;line, std::vector&lt; double &gt; &amp;data, bool useSystemLocale)</td></tr>
<tr class="memdesc:a162ed4c58160a7b753d9aa1b6415284c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A static implementation of <code><a class="el" href="classPlotFile.html#aa750c740c5e40cb10dd0ea5343c156c4" title="Converts the currently cached line into double precision data values. ">dataLine()</a></code> above, supporting generalised parsing of data text.  <a href="#a162ed4c58160a7b753d9aa1b6415284c">More...</a><br /></td></tr>
<tr class="separator:a162ed4c58160a7b753d9aa1b6415284c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a42f3b54b868ba645736d823a304bbf7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42f3b54b868ba645736d823a304bbf7f"></a>
QFile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a42f3b54b868ba645736d823a304bbf7f">_file</a></td></tr>
<tr class="memdesc:a42f3b54b868ba645736d823a304bbf7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The file object. <br /></td></tr>
<tr class="separator:a42f3b54b868ba645736d823a304bbf7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95d33ea37749e50730d9006363dfb8e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa95d33ea37749e50730d9006363dfb8e"></a>
QTextStream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#aa95d33ea37749e50730d9006363dfb8e">_stream</a></td></tr>
<tr class="memdesc:aa95d33ea37749e50730d9006363dfb8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stream wrapping the file object. <br /></td></tr>
<tr class="separator:aa95d33ea37749e50730d9006363dfb8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5e48834191486b5dbe06661e16ac9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b5e48834191486b5dbe06661e16ac9e"></a>
QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a2b5e48834191486b5dbe06661e16ac9e">_line</a></td></tr>
<tr class="memdesc:a2b5e48834191486b5dbe06661e16ac9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last read line (<code><a class="el" href="classPlotFile.html#a8adc491cf5df0ff10bf4a333626cf305" title="Reads the next line from the file, caching it. ">readLine()</a></code>). <br /></td></tr>
<tr class="separator:a2b5e48834191486b5dbe06661e16ac9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bcb5b77be654fb7ad567d04caebc820"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bcb5b77be654fb7ad567d04caebc820"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlotFile.html#a6bcb5b77be654fb7ad567d04caebc820">_options</a></td></tr>
<tr class="memdesc:a6bcb5b77be654fb7ad567d04caebc820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Option flags. <br /></td></tr>
<tr class="separator:a6bcb5b77be654fb7ad567d04caebc820"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <code><a class="el" href="classPlotFile.html" title="The PlotFile supports loading of data series from a CSV style text file. ">PlotFile</a></code> supports loading of data series from a CSV style text file. </p>
<p>While data files are CSV like, they can be whitespace delimited. Any number of whitespace characters may separate data values.</p>
<p>The supported file format details are:</p><ul>
<li>Each line is delimited into distinct sample quantities, where each quantity evolves overtime with one sample per line.</li>
<li>Each line represents a discrete sample point.</li>
<li>The first line is an optional line of column names or headings.</li>
<li>The file may contain a time stamp or time value quantity.</li>
<li>Each line must contain the same number of items.</li>
</ul>
<p>The presence or absence of headings is inferred by checking if the first line can be split and converted into numeric values. The line is deemed to be headings should that fail. If there is no heading line, then heading names are generated as "Column 1", "Column 2", etc.</p>
<p>Heading parsing and delimiting differs from data line parsing. Heading names may contain spaces, with heading parsing using the following rules.</p><ul>
<li>Try parse headings with the same delimiters as data (whitespace and comma).</li>
<li>Parse the next line (first data line) and validate the number of items on each line. We stop if these two match and generate the headings from the first line as is.</li>
<li>Otherwise:<ol type="1">
<li>Allow tab-delimited, but not space delimited columns.</li>
<li>Allow general whitespace delimiting, but extend names to include any bracketed text which follows it. E.g., "speed (m/s)" is treated as a single heading name.</li>
</ol>
</li>
</ul>
<p>Unicode formats are supported through Qt's QTextStream class. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="afa54fe4c4d2fd8ac04a12c4a1127c87e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classPlotFile.html#afa54fe4c4d2fd8ac04a12c4a1127c87e">PlotFile::OptionFlag</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of option flags used to control file loading. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="afa54fe4c4d2fd8ac04a12c4a1127c87ea4e3e8db02866ebc6d7afdb186c6840eb"></a>OptUseLocale&#160;</td><td class="fielddoc">
<p>Use the current <code>QLocale</code> for parsing rather than the C locale. </p>
<p>The system locale may be set such that the digit separator is '.' and the decimal separator is ',' as in much of Europe. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a83c8048c86e50ebe07884cb70a76d923"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PlotFile::PlotFile </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>options</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a plot file opening <code>fileName</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>The file to open. </td></tr>
    <tr><td class="paramname">options</td><td>Combination of <code>OptionFlag</code> values to load with. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3604834ddb887f49d63f5df71292325d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString&amp; PlotFile::currentLine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the last line read from the file (after <code><a class="el" href="classPlotFile.html#a8adc491cf5df0ff10bf4a333626cf305" title="Reads the next line from the file, caching it. ">readLine()</a></code>). </p>
<dl class="section return"><dt>Returns</dt><dd>The currently cached line as a <code>QString</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="aa750c740c5e40cb10dd0ea5343c156c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlotFile::dataLine </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the currently cached line into double precision data values. </p>
<p>The current line is split by the delimiters and <code>data</code> populated with the data items. The <code>data</code> array is resize to the number of data items in the current line. The number of items should be consistent line to line.</p>
<p>Uses a std::vector because QVector releases memory on <code>clear()</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Populated with the data items of the current line. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a162ed4c58160a7b753d9aa1b6415284c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PlotFile::dataLine </td>
          <td>(</td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useSystemLocale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A static implementation of <code><a class="el" href="classPlotFile.html#aa750c740c5e40cb10dd0ea5343c156c4" title="Converts the currently cached line into double precision data values. ">dataLine()</a></code> above, supporting generalised parsing of data text. </p>
<p>Parsing has been optimised for best data conversion speed.</p>
<p>Uses a std::vector because QVector releases memory on <code>clear()</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>The data line to parse. Mutable to maximise parsing performance. The content is only temporarily modified and restored before exiting. </td></tr>
    <tr><td class="paramname">data</td><td>Populated with the loaded data. The element count is set to the number of items parsed from <code>line</code>. </td></tr>
    <tr><td class="paramname">useSystemLocale</td><td>Use the system locale for parsing (true), or the C locale (false). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af69fb7aacd8af4580cb8c78d2719d326"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 PlotFile::filePos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current buffered byte position in the file. </p>
<p>This can be ahead of the stream as the stream is buffered, but is much faster than <code><a class="el" href="classPlotFile.html#ab6a65142002c5b5be4712994ce0edf19" title="Returns the current byte position in the stream. ">streamPos()</a></code>. Do not use the result with as the buffered position is not the read position.</p>
<dl class="section return"><dt>Returns</dt><dd>The file position. </dd></dl>

</div>
</div>
<a class="anchor" id="a10a95be7587e3de127d252c46676d264"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 PlotFile::fileSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the overall file size in bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>The file size in bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="ad0d1e9f2997951cca38567dd4477d7f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PlotFile::generateHeadings </td>
          <td>(</td>
          <td class="paramtype">QStringList &amp;&#160;</td>
          <td class="paramname"><em>headings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates headings for the plot file. </p>
<p>Headings are read from the first line if possible.</p>
<p>Headings are deduces from the first line of the file. Headings may be delimited by either tabs, commas or spaces. Headings may contain spaces when:</p><ul>
<li>Headings are tab or comma delimited</li>
<li>Headings are of the form "heading (unit)". Heading and unit are arbitrary strings, but are intended as they are named.</li>
</ul>
<p>If no headings line is present, then this method counts columns in the first line and generates headings as "Column #" where # is the one base column index.</p>
<p>The file position is first reset to the start of the file and is left at the first data line (possibly the start of the file).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">headings</td><td>Populated with headings </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False if no data was read from the file. </dd></dl>

</div>
</div>
<a class="anchor" id="a3aa049c5c03dccbf68dd38751e5ff8d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PlotFile::isOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if a file is currently open. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the file is open for reading. </dd></dl>

</div>
</div>
<a class="anchor" id="a8adc491cf5df0ff10bf4a333626cf305"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PlotFile::readLine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the next line from the file, caching it. </p>
<dl class="section return"><dt>Returns</dt><dd>True if another line was successfully read, false at end of file. </dd></dl>

</div>
</div>
<a class="anchor" id="ab6a65142002c5b5be4712994ce0edf19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 PlotFile::streamPos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current byte position in the stream. </p>
<p>This can be a slow operation as the stream may need to re-buffer to detemine a valid position. Use <code><a class="el" href="classPlotFile.html#af69fb7aacd8af4580cb8c78d2719d326" title="Returns the current buffered byte position in the file. ">filePos()</a></code> in tight loops, but use <code><a class="el" href="classPlotFile.html#ab6a65142002c5b5be4712994ce0edf19" title="Returns the current byte position in the stream. ">streamPos()</a></code> when there is a need to reset to the current file position with <code><a class="el" href="classPlotFile.html#ad97a9b40a65cb32c6839de9eaecf7c69" title="Sets the stream position to pos. ">streamSeek()</a></code>. </p>

</div>
</div>
<a class="anchor" id="ad97a9b40a65cb32c6839de9eaecf7c69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlotFile::streamSeek </td>
          <td>(</td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the stream position to <code>pos</code>. </p>
<p>Do not use with results from <code><a class="el" href="classPlotFile.html#af69fb7aacd8af4580cb8c78d2719d326" title="Returns the current buffered byte position in the file. ">filePos()</a></code>, preferring <code><a class="el" href="classPlotFile.html#ab6a65142002c5b5be4712994ce0edf19" title="Returns the current byte position in the stream. ">streamPos()</a></code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>The position to seek. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="plotfile_8h_source.html">plotfile.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classPlotFile.html">PlotFile</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
