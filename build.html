<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>OpenCurves: Building Open Curves</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCurves
   &#160;<span id="projectnumber">0.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('build.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Building Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> has been built as a multi-platform application by leveraging the Qt framework and CMake.</p>
<p>As such, building Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> is generally straightforward, but there may be some issues for some build configurations. The primary platform for Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> is Windows 7, but it is also commonly built for MacOS.</p>
<h1>Dependencies </h1>
<p>Building Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> requires the following tools:</p><ul>
<li>A compatible compiler</li>
<li><a href="http://www.qt.io/download-open-source/">Qt 5.2</a> or above with the following modules:<ul>
<li>Core</li>
<li>Concurrent</li>
<li>GUI</li>
<li>Network</li>
<li>OpenGL (for Widgets)</li>
<li>PrintSupport</li>
<li>SerialPort</li>
<li>SVG</li>
<li>Widgets</li>
<li>XML</li>
</ul>
</li>
<li><a href="http://qwt.sourceforge.net/">Qwt</a> in either source or binary form.</li>
<li><a href="https://cmake.org/download/">CMake</a> 2.8.12 or above.</li>
</ul>
<p>Optional build components:</p><ul>
<li>Bison and Flex to change expression parsing.</li>
<li><a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a> for generating API documentation.</li>
</ul>
<p>Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> supports building against existing Qwt shared libraries, or building Qwt from source. To use an existing Qwt library, that library must be built against the same version of Qt and must be locatable by CMake. A full discussion of how CMake find libraries is beyond the scope of this document. To build Qwt from source:</p><ol type="1">
<li>Download and unpack the Qwt source.</li>
<li>Copy the Qwt "src" directory to <code>&lt;open-curves-source-dir&gt;/qwt/src</code> Where <code>&lt;open-curves-source-dir&gt;</code> is the Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> source directory containing the topmost CMakeLists.txt file.</li>
</ol>
<p>Bison and Flex are only required if making changes to the expression grammar or parser. See below.</p>
<h1>Compiler Requirements </h1>
<p>Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> requires a C++11 compatible compiler. The following compilers are recommended: </p><table class="doxtable">
<tr>
<th>Platform </th><th>Recommended Compiler  </th></tr>
<tr>
<td>Windows </td><td>Visual Studio 2013 or above. </td></tr>
<tr>
<td>MacOS </td><td>Xcode 6 or higher. Apple Clang 7 or higher. </td></tr>
<tr>
<td>Linux </td><td>G++ 4.8 or higher, 4.9 or higher preferred. </td></tr>
</table>
<p>Linux builds have only received cursory testing to date.</p>
<h1>Build Process </h1>
<p>CMake is required to set up the build projects or make files. CMake is run in a command line shell such as an XTerm window or Windows CMD.</p>
<p>Before running it is advised that:</p><ul>
<li>The CMake executable is available on the path.</li>
<li>The Qt bin directory is available on the path. This is the path to the qmake executable.</li>
<li>Qwt libraries are locatable by CMake or the source code is available as described above.</li>
</ul>
<p>Open the command shell and proceed with the following instructions.</p><ol type="1">
<li>Navigate to the Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> source directory.</li>
<li>Create a "build" directory within the Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> source directory.</li>
<li>Change into the build directory.</li>
<li>Build and install<ul>
<li>On Linux or MacOS:<ul>
<li>run "make"</li>
<li>run "make ocurves-html" to build API documentation</li>
<li>run "make userdoc" if Doxygen is installed</li>
<li>run "make install"</li>
</ul>
</li>
<li>On Windows:<ul>
<li>Open the Visual Studio project and build.</li>
<li>Build the "ocurves-html" project to generate API documentation.</li>
<li>Build the "ocurves-marshall" project after the first time each configuration is built.</li>
<li>Build the userdoc target before attempting installation.</li>
<li>To install, build the INSTALL target. Administrator privileges are required to install to "Program Files" directories.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>The installation directory can be changed by modifying the CMAKE_INSTALL_PREFIX. This can be done in a number of ways:</p><ol type="1">
<li>When first running cmake, change the command to read: <code>cmake -DCMAKE_INSTALL_PREFIX=&lt;install-dir&gt; ..</code> where &lt;install-dir&gt; is the desired installation directory.</li>
<li>Use cmake-gui or ccmake to change CMAKE_INSTALL_PREFIX. From the build directory run. <code>ccmake ..</code> or <code>cmake-gui ..</code></li>
</ol>
<h2>Platform Notes </h2>
<h3>Windows</h3>
<p>On Windows, the CMake scripts are set to marshal dependent DLLs to the build directory. The project "ocurves-marshal" is responsible for copying dependencies - such as Qt DLLs - to the build directory. This project does not build by default because it can take some time to complete. It must be build manually for each build configuration. This need only be done when the dependencies change, such as when Qt is upgraded. The install script marshals dependencies independently and does not reply on the "ocurves-marshal" project.</p>
<h4>Windows 64-bit</h4>
<p>64-bit Windows code can be built by modifying the CMake command line to read: </p><pre class="fragment">cmake -G "Visual Studio 14 2015 Win64"
</pre><p>or </p><pre class="fragment">cmake -G "Visual Studio 12 2013 Win64"
</pre><p>Note the addition of "Win64". This requires 64-bit Qt and Qwt binaries.</p>
<h3>Linux</h3>
<p>The relative installation paths have not been verified on Linux systems. That is to say, the installation pattern will be non-standard. It is advised that until this is resolved, a non-standard installation path be used, one which isolates Open <a class="el" href="classCurves.html" title="The data model for loaded plots and curves. ">Curves</a> from system applications.</p>
<h2>Advanced Options </h2>
<h3>Alloctrack</h3>
<p>The source includes an library called "alloctrack", which is designed to aid in memory leak detection. It is disabled by default. Alloctrack is enabled by setting the CMake variable ALLOCTRACK_ENABLE to TRUE using either the command line, ccmake or cmake-gui. Alloctrack is strongly recommended for debug builds, but is not used release builds and should be disabled.</p>
<h3>Bison and Flex</h3>
<p>Expression parsing uses Bison and Flex. The generated files are included in the submitted source, so they are optional components. However, they are required when modifying the expression parsing. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
